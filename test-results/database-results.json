{"numFailedTestSuites":2,"numFailedTests":22,"numPassedTestSuites":2,"numPassedTests":25,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":4,"numTotalTests":47,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1750710963149,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Utils Functions","cn (className utility)"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"Utils Functions cn (className utility) should merge classnames correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should merge classnames correctly"},{"ancestorTitles":["Utils Functions","cn (className utility)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Utils Functions cn (className utility) should handle conditional classes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle conditional classes"},{"ancestorTitles":["Utils Functions","cn (className utility)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Utils Functions cn (className utility) should handle empty inputs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle empty inputs"},{"ancestorTitles":["Utils Functions","Performance Benchmarks"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Utils Functions Performance Benchmarks should benchmark utility functions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should benchmark utility functions"}],"endTime":1750710963837,"message":"","name":"/Users/tywalls/Projects/BzzBoard/mvp/src/lib/utils/__tests__/sample.test.ts","startTime":1750710963509,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Calendar Database Functions","Sync Token Operations","getSyncToken"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Sync Token Operations getSyncToken should retrieve sync token successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should retrieve sync token successfully"},{"ancestorTitles":["Calendar Database Functions","Sync Token Operations","getSyncToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Sync Token Operations getSyncToken should return null when no sync token found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null when no sync token found"},{"ancestorTitles":["Calendar Database Functions","Sync Token Operations","getSyncToken"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Sync Token Operations getSyncToken should handle database errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle database errors gracefully"},{"ancestorTitles":["Calendar Database Functions","Sync Token Operations","upsertSyncToken"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Sync Token Operations upsertSyncToken should update existing sync token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update existing sync token"},{"ancestorTitles":["Calendar Database Functions","Sync Token Operations","upsertSyncToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Sync Token Operations upsertSyncToken should create new sync token when none exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create new sync token when none exists"},{"ancestorTitles":["Calendar Database Functions","Sync Token Operations","deleteSyncToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Sync Token Operations deleteSyncToken should delete sync token successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should delete sync token successfully"},{"ancestorTitles":["Calendar Database Functions","Webhook Channel Operations","getWebhookChannel"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Webhook Channel Operations getWebhookChannel should retrieve active webhook channel","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should retrieve active webhook channel"},{"ancestorTitles":["Calendar Database Functions","Webhook Channel Operations","createWebhookChannel"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Webhook Channel Operations createWebhookChannel should create new webhook channel and deactivate existing ones","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create new webhook channel and deactivate existing ones"},{"ancestorTitles":["Calendar Database Functions","Event Cache Operations","getCachedEvents"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Event Cache Operations getCachedEvents should retrieve cached events for user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should retrieve cached events for user"},{"ancestorTitles":["Calendar Database Functions","Event Cache Operations","upsertCachedEvent"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Event Cache Operations upsertCachedEvent should update existing cached event","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update existing cached event"},{"ancestorTitles":["Calendar Database Functions","Event Cache Operations","upsertCachedEvent"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Event Cache Operations upsertCachedEvent should create new cached event when none exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create new cached event when none exists"},{"ancestorTitles":["Calendar Database Functions","Event Cache Operations","checkSchedulingConflicts"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Event Cache Operations checkSchedulingConflicts should detect scheduling conflicts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect scheduling conflicts"},{"ancestorTitles":["Calendar Database Functions","Event Cache Operations","checkSchedulingConflicts"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Event Cache Operations checkSchedulingConflicts should not detect conflicts for non-overlapping times","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not detect conflicts for non-overlapping times"},{"ancestorTitles":["Calendar Database Functions","Performance Benchmarks"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Calendar Database Functions Performance Benchmarks should benchmark multiple operations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should benchmark multiple operations"}],"endTime":1750710963901,"message":"","name":"/Users/tywalls/Projects/BzzBoard/mvp/src/lib/db/__tests__/calendar.test.ts","startTime":1750710963508,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Shoots API Functions","getShootsForUser"],"duration":80,"failureDetails":[{}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\n/Users/tywalls/Projects/BzzBoard/mvp/node_modules/next-auth/index.js:69\nimport { Auth, customFetch } from \"@auth/core\";\n^^^^^^\n\nSyntaxError: Cannot use import statement outside a module\n    at new Script (node:vm:99:7)\n    at Runtime.createScriptFromCode (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1505:14)\n    at Runtime._execModule (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1399:25)\n    at Runtime._loadModule (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:882:12)\n    at Runtime.requireModuleOrMock (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1048:21)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/auth/index.ts:28:58)\n    at Runtime._execModule (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:882:12)\n    at Runtime.requireModuleOrMock (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1048:21)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/auth/session.ts:28:16)\n    at Runtime._execModule (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:882:12)\n    at Runtime._generateMock (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1690:34)\n    at Runtime.requireMock (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:996:39)\n    at Runtime.requireModuleOrMock (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runtime/build/index.js:1046:21)\n    at Object.require (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:144:5)\n    at Promise.then.completed (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/tywalls/Projects/BzzBoard/mvp/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Shoots API Functions getShootsForUser should retrieve shoots for user successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should retrieve shoots for user successfully"},{"ancestorTitles":["Shoots API Functions","getShootsForUser"],"duration":17,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:329:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:181:22)"],"fullName":"Shoots API Functions getShootsForUser should handle empty results","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle empty results"},{"ancestorTitles":["Shoots API Functions","getShootsForUser"],"duration":5,"failureDetails":[{"matcherResult":{"message":"expect(received).toContain(expected) // indexOf\n\nExpected substring: \"Database connection failed\"\nReceived string:    \"Cannot read properties of undefined (reading 'ok')\"","pass":false}}],"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"Database connection failed\"\nReceived string:    \"Cannot read properties of undefined (reading 'ok')\"\n    at Object.toContain (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:214:35)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Shoots API Functions getShootsForUser should handle database errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle database errors"},{"ancestorTitles":["Shoots API Functions","getShootById"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:345:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:227:22)"],"fullName":"Shoots API Functions getShootById should retrieve shoot by id successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should retrieve shoot by id successfully"},{"ancestorTitles":["Shoots API Functions","getShootById"],"duration":3,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:345:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:248:22)"],"fullName":"Shoots API Functions getShootById should return null for non-existent shoot","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return null for non-existent shoot"},{"ancestorTitles":["Shoots API Functions","createShoot"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:370:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:280:22)"],"fullName":"Shoots API Functions createShoot should create shoot successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create shoot successfully"},{"ancestorTitles":["Shoots API Functions","createShoot"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(received).toContain(expected) // indexOf\n\nExpected substring: \"Title is required\"\nReceived string:    \"Cannot read properties of undefined (reading 'ok')\"","pass":false}}],"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"Title is required\"\nReceived string:    \"Cannot read properties of undefined (reading 'ok')\"\n    at Object.toContain (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:325:35)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Shoots API Functions createShoot should handle validation errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle validation errors"},{"ancestorTitles":["Shoots API Functions","updateShoot"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:392:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:346:22)"],"fullName":"Shoots API Functions updateShoot should update shoot successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update shoot successfully"},{"ancestorTitles":["Shoots API Functions","updateShoot"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(received).toContain(expected) // indexOf\n\nExpected substring: \"Unauthorized\"\nReceived string:    \"Cannot read properties of undefined (reading 'ok')\"","pass":false}}],"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"Unauthorized\"\nReceived string:    \"Cannot read properties of undefined (reading 'ok')\"\n    at Object.toContain (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:382:35)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Shoots API Functions updateShoot should handle unauthorized updates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle unauthorized updates"},{"ancestorTitles":["Shoots API Functions","deleteShoot"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:414:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:395:22)"],"fullName":"Shoots API Functions deleteShoot should delete shoot successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should delete shoot successfully"},{"ancestorTitles":["Shoots API Functions","deleteShoot"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:414:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:416:22)"],"fullName":"Shoots API Functions deleteShoot should handle non-existent shoot deletion","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle non-existent shoot deletion"},{"ancestorTitles":["Shoots API Functions","Post Ideas Operations","getPostIdeasForShoot"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:430:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:439:24)"],"fullName":"Shoots API Functions Post Ideas Operations getPostIdeasForShoot should retrieve post ideas for shoot","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should retrieve post ideas for shoot"},{"ancestorTitles":["Shoots API Functions","Post Ideas Operations","addPostIdeaToShoot"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:452:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:471:24)"],"fullName":"Shoots API Functions Post Ideas Operations addPostIdeaToShoot should add post idea to shoot successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should add post idea to shoot successfully"},{"ancestorTitles":["Shoots API Functions","Post Ideas Operations","updatePostIdea"],"duration":2,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:492:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:508:24)"],"fullName":"Shoots API Functions Post Ideas Operations updatePostIdea should update post idea successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update post idea successfully"},{"ancestorTitles":["Shoots API Functions","Post Ideas Operations","deletePostIdea"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'ok')\n    at ok (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/shoots.ts:514:17)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:531:24)"],"fullName":"Shoots API Functions Post Ideas Operations deletePostIdea should delete post idea successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should delete post idea successfully"},{"ancestorTitles":["Shoots API Functions","Performance Benchmarks"],"duration":4,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeGreaterThan(expected)\n\nExpected: > 0\nReceived:   0","pass":false}}],"failureMessages":["Error: expect(received).toBeGreaterThan(expected)\n\nExpected: > 0\nReceived:   0\n    at Object.toBeGreaterThan (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:649:53)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Shoots API Functions Performance Benchmarks should benchmark CRUD operations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should benchmark CRUD operations"},{"ancestorTitles":["Shoots API Functions","Performance Benchmarks"],"duration":3,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeGreaterThan(expected)\n\nExpected: > 0\nReceived:   0","pass":false}}],"failureMessages":["Error: expect(received).toBeGreaterThan(expected)\n\nExpected: > 0\nReceived:   0\n    at Object.toBeGreaterThan (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts:691:83)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Shoots API Functions Performance Benchmarks should benchmark concurrent operations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should benchmark concurrent operations"}],"endTime":1750710963946,"message":"  ● Shoots API Functions › getShootsForUser › should retrieve shoots for user successfully\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    /Users/tywalls/Projects/BzzBoard/mvp/node_modules/next-auth/index.js:69\n    import { Auth, customFetch } from \"@auth/core\";\n    ^^^^^^\n\n    SyntaxError: Cannot use import statement outside a module\n\n\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1505:14)\n      at Object.<anonymous> (src/lib/auth/index.ts:28:58)\n      at Object.<anonymous> (src/lib/auth/session.ts:28:16)\n      at Object.require (src/lib/api/__tests__/shoots.test.ts:144:5)\n\n  ● Shoots API Functions › getShootsForUser › should handle empty results\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      327 |   const response = await fetch(`/api/shoots?${params.toString()}`)\n      328 |   \n    > 329 |   if (!response.ok) {\n          |                 ^\n      330 |     throw new Error(`Failed to fetch shoots: ${response.statusText}`)\n      331 |   }\n      332 |   \n\n      at ok (src/lib/api/shoots.ts:329:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:181:22)\n\n  ● Shoots API Functions › getShootsForUser › should handle database errors\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"Database connection failed\"\n    Received string:    \"Cannot read properties of undefined (reading 'ok')\"\n\n      212 |\n      213 |       expect(thrownError).toBeInstanceOf(Error)\n    > 214 |       expect(thrownError.message).toContain('Database connection failed')\n          |                                   ^\n      215 |       console.log('✅ getShootsForUser (error) test passed')\n      216 |     })\n      217 |   })\n\n      at Object.toContain (src/lib/api/__tests__/shoots.test.ts:214:35)\n\n  ● Shoots API Functions › getShootById › should retrieve shoot by id successfully\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      343 |   const response = await fetch(`/api/shoots/${shootId}`)\n      344 |   \n    > 345 |   if (!response.ok) {\n          |                 ^\n      346 |     if (response.status === 404) {\n      347 |       return null\n      348 |     }\n\n      at ok (src/lib/api/shoots.ts:345:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:227:22)\n\n  ● Shoots API Functions › getShootById › should return null for non-existent shoot\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      343 |   const response = await fetch(`/api/shoots/${shootId}`)\n      344 |   \n    > 345 |   if (!response.ok) {\n          |                 ^\n      346 |     if (response.status === 404) {\n      347 |       return null\n      348 |     }\n\n      at ok (src/lib/api/shoots.ts:345:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:248:22)\n\n  ● Shoots API Functions › createShoot › should create shoot successfully\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      368 |   })\n      369 |   \n    > 370 |   if (!response.ok) {\n          |                 ^\n      371 |     throw new Error(`Failed to create shoot: ${response.statusText}`)\n      372 |   }\n      373 |   \n\n      at ok (src/lib/api/shoots.ts:370:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:280:22)\n\n  ● Shoots API Functions › createShoot › should handle validation errors\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"Title is required\"\n    Received string:    \"Cannot read properties of undefined (reading 'ok')\"\n\n      323 |\n      324 |       expect(thrownError).toBeInstanceOf(Error)\n    > 325 |       expect(thrownError.message).toContain('Title is required')\n          |                                   ^\n      326 |       console.log('✅ createShoot (validation error) test passed')\n      327 |     })\n      328 |   })\n\n      at Object.toContain (src/lib/api/__tests__/shoots.test.ts:325:35)\n\n  ● Shoots API Functions › updateShoot › should update shoot successfully\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      390 |   })\n      391 |   \n    > 392 |   if (!response.ok) {\n          |                 ^\n      393 |     throw new Error(`Failed to update shoot: ${response.statusText}`)\n      394 |   }\n      395 |   \n\n      at ok (src/lib/api/shoots.ts:392:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:346:22)\n\n  ● Shoots API Functions › updateShoot › should handle unauthorized updates\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"Unauthorized\"\n    Received string:    \"Cannot read properties of undefined (reading 'ok')\"\n\n      380 |\n      381 |       expect(thrownError).toBeInstanceOf(Error)\n    > 382 |       expect(thrownError.message).toContain('Unauthorized')\n          |                                   ^\n      383 |       console.log('✅ updateShoot (unauthorized) test passed')\n      384 |     })\n      385 |   })\n\n      at Object.toContain (src/lib/api/__tests__/shoots.test.ts:382:35)\n\n  ● Shoots API Functions › deleteShoot › should delete shoot successfully\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      412 |   })\n      413 |   \n    > 414 |   if (!response.ok) {\n          |                 ^\n      415 |     throw new Error(`Failed to delete shoot: ${response.statusText}`)\n      416 |   }\n      417 |   \n\n      at ok (src/lib/api/shoots.ts:414:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:395:22)\n\n  ● Shoots API Functions › deleteShoot › should handle non-existent shoot deletion\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      412 |   })\n      413 |   \n    > 414 |   if (!response.ok) {\n          |                 ^\n      415 |     throw new Error(`Failed to delete shoot: ${response.statusText}`)\n      416 |   }\n      417 |   \n\n      at ok (src/lib/api/shoots.ts:414:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:416:22)\n\n  ● Shoots API Functions › Post Ideas Operations › getPostIdeasForShoot › should retrieve post ideas for shoot\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      428 |   const response = await fetch(`/api/shoots/${shootId}`)\n      429 |   \n    > 430 |   if (!response.ok) {\n          |                 ^\n      431 |     throw new Error(`Failed to fetch post ideas: ${response.statusText}`)\n      432 |   }\n      433 |   \n\n      at ok (src/lib/api/shoots.ts:430:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:439:24)\n\n  ● Shoots API Functions › Post Ideas Operations › addPostIdeaToShoot › should add post idea to shoot successfully\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      450 |   })\n      451 |   \n    > 452 |   if (!response.ok) {\n          |                 ^\n      453 |     throw new Error(`Failed to add post idea: ${response.statusText}`)\n      454 |   }\n      455 |   \n\n      at ok (src/lib/api/shoots.ts:452:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:471:24)\n\n  ● Shoots API Functions › Post Ideas Operations › updatePostIdea › should update post idea successfully\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      490 |   })\n      491 |   \n    > 492 |   if (!response.ok) {\n          |                 ^\n      493 |     throw new Error(`Failed to update post idea: ${response.statusText}`)\n      494 |   }\n      495 |   \n\n      at ok (src/lib/api/shoots.ts:492:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:508:24)\n\n  ● Shoots API Functions › Post Ideas Operations › deletePostIdea › should delete post idea successfully\n\n    TypeError: Cannot read properties of undefined (reading 'ok')\n\n      512 |   })\n      513 |   \n    > 514 |   if (!response.ok) {\n          |                 ^\n      515 |     throw new Error(`Failed to delete post idea: ${response.statusText}`)\n      516 |   }\n      517 |   \n\n      at ok (src/lib/api/shoots.ts:514:17)\n      at Object.<anonymous> (src/lib/api/__tests__/shoots.test.ts:531:24)\n\n  ● Shoots API Functions › Performance Benchmarks › should benchmark CRUD operations\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 0\n    Received:   0\n\n      647 |       expect(avgTime).toBeLessThan(1000) // Average should be under 1s\n      648 |       expect(results.every(r => r.duration < 2000)).toBe(true) // All operations under 2s\n    > 649 |       expect(results.filter(r => r.success).length).toBeGreaterThan(0) // At least some should succeed\n          |                                                     ^\n      650 |     })\n      651 |\n      652 |     it('should benchmark concurrent operations', async () => {\n\n      at Object.toBeGreaterThan (src/lib/api/__tests__/shoots.test.ts:649:53)\n\n  ● Shoots API Functions › Performance Benchmarks › should benchmark concurrent operations\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 0\n    Received:   0\n\n      689 |       // Performance assertions\n      690 |       expect(totalDuration).toBeLessThan(3000) // Concurrent operations should be faster than sequential\n    > 691 |       expect(concurrentOperations.filter(op => op.status === 'fulfilled').length).toBeGreaterThan(0)\n          |                                                                                   ^\n      692 |     })\n      693 |   })\n      694 | }) \n\n      at Object.toBeGreaterThan (src/lib/api/__tests__/shoots.test.ts:691:83)\n","name":"/Users/tywalls/Projects/BzzBoard/mvp/src/lib/api/__tests__/shoots.test.ts","startTime":1750710963509,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["GoogleCalendarSync","syncCalendar"],"duration":49,"failureDetails":[{"matcherResult":{"actual":0,"expected":1,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: 0","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: 0\n    at Object.toBe (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/services/__tests__/google-calendar-sync.test.ts:171:35)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"GoogleCalendarSync syncCalendar should perform full sync when no sync token exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should perform full sync when no sync token exists"},{"ancestorTitles":["GoogleCalendarSync","syncCalendar"],"duration":5,"failureDetails":[{"matcherResult":{"actual":0,"expected":1,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: 0","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: 0\n    at Object.toBe (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/services/__tests__/google-calendar-sync.test.ts:220:35)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"GoogleCalendarSync syncCalendar should perform incremental sync when sync token exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should perform incremental sync when sync token exists"},{"ancestorTitles":["GoogleCalendarSync","syncCalendar"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"GoogleCalendarSync syncCalendar should handle cancelled events correctly","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle cancelled events correctly"},{"ancestorTitles":["GoogleCalendarSync","syncCalendar"],"duration":3,"failureDetails":[{"matcherResult":{"message":"expect(received).toContain(expected) // indexOf\n\nExpected substring: \"authentication\"\nReceived string:    \"Unknown sync error\"","pass":false}}],"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"authentication\"\nReceived string:    \"Unknown sync error\"\n    at Object.toContain (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/services/__tests__/google-calendar-sync.test.ts:308:28)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"GoogleCalendarSync syncCalendar should handle authentication errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle authentication errors gracefully"},{"ancestorTitles":["GoogleCalendarSync","syncCalendar"],"duration":3,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/services/__tests__/google-calendar-sync.test.ts:357:30)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"GoogleCalendarSync syncCalendar should handle sync token expiration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle sync token expiration"},{"ancestorTitles":["GoogleCalendarSync","createEvent"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GoogleCalendarSync createEvent should create calendar event successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create calendar event successfully"},{"ancestorTitles":["GoogleCalendarSync","createEvent"],"duration":1,"failureDetails":[{"matcherResult":{"expected":"RATE_LIMITED","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"RATE_LIMITED\"\nReceived: undefined","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"RATE_LIMITED\"\nReceived: undefined\n    at Object.toBe (/Users/tywalls/Projects/BzzBoard/mvp/src/lib/services/__tests__/google-calendar-sync.test.ts:462:32)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"GoogleCalendarSync createEvent should handle event creation errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle event creation errors"},{"ancestorTitles":["GoogleCalendarSync","updateEvent"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"GoogleCalendarSync updateEvent should update calendar event successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should update calendar event successfully"},{"ancestorTitles":["GoogleCalendarSync","deleteEvent"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GoogleCalendarSync deleteEvent should delete calendar event successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should delete calendar event successfully"},{"ancestorTitles":["GoogleCalendarSync","checkConflictsForShoot"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GoogleCalendarSync checkConflictsForShoot should detect conflicts for overlapping times","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should detect conflicts for overlapping times"},{"ancestorTitles":["GoogleCalendarSync","checkConflictsForShoot"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GoogleCalendarSync checkConflictsForShoot should return no conflicts for non-overlapping times","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return no conflicts for non-overlapping times"},{"ancestorTitles":["GoogleCalendarSync","Performance Benchmarks"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"GoogleCalendarSync Performance Benchmarks should benchmark sync operations","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should benchmark sync operations"}],"endTime":1750710964695,"message":"  ● GoogleCalendarSync › syncCalendar › should perform full sync when no sync token exists\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 1\n    Received: 0\n\n      169 |\n      170 |       expect(result.success).toBe(true)\n    > 171 |       expect(result.syncedEvents).toBe(1)\n          |                                   ^\n      172 |       expect(result.deletedEvents).toBe(0)\n      173 |       expect(mockCalendarDb.clearEventCache).toHaveBeenCalled()\n      174 |       expect(mockCalendarDb.deleteSyncToken).toHaveBeenCalled()\n\n      at Object.toBe (src/lib/services/__tests__/google-calendar-sync.test.ts:171:35)\n\n  ● GoogleCalendarSync › syncCalendar › should perform incremental sync when sync token exists\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 1\n    Received: 0\n\n      218 |\n      219 |       expect(result.success).toBe(true)\n    > 220 |       expect(result.syncedEvents).toBe(1)\n          |                                   ^\n      221 |       expect(result.deletedEvents).toBe(0)\n      222 |       expect(mockCalendarDb.clearEventCache).not.toHaveBeenCalled()\n      223 |       expect(mockCalendarDb.deleteSyncToken).not.toHaveBeenCalled()\n\n      at Object.toBe (src/lib/services/__tests__/google-calendar-sync.test.ts:220:35)\n\n  ● GoogleCalendarSync › syncCalendar › should handle authentication errors gracefully\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"authentication\"\n    Received string:    \"Unknown sync error\"\n\n      306 |\n      307 |       expect(result.success).toBe(false)\n    > 308 |       expect(result.error).toContain('authentication')\n          |                            ^\n      309 |       \n      310 |       console.log('✅ syncCalendar (auth error) test passed')\n      311 |     })\n\n      at Object.toContain (src/lib/services/__tests__/google-calendar-sync.test.ts:308:28)\n\n  ● GoogleCalendarSync › syncCalendar › should handle sync token expiration\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      355 |       })\n      356 |\n    > 357 |       expect(result.success).toBe(true)\n          |                              ^\n      358 |       expect(result.syncedEvents).toBe(1)\n      359 |       \n      360 |       console.log('✅ syncCalendar (sync token expiration) test passed')\n\n      at Object.toBe (src/lib/services/__tests__/google-calendar-sync.test.ts:357:30)\n\n  ● GoogleCalendarSync › createEvent › should handle event creation errors\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"RATE_LIMITED\"\n    Received: undefined\n\n      460 |\n      461 |       expect(thrownError).toBeInstanceOf(CalendarError)\n    > 462 |       expect(thrownError.code).toBe('RATE_LIMITED')\n          |                                ^\n      463 |       \n      464 |       console.log('✅ createEvent (error) test passed')\n      465 |     })\n\n      at Object.toBe (src/lib/services/__tests__/google-calendar-sync.test.ts:462:32)\n","name":"/Users/tywalls/Projects/BzzBoard/mvp/src/lib/services/__tests__/google-calendar-sync.test.ts","startTime":1750710963508,"status":"failed","summary":""}],"wasInterrupted":false}
